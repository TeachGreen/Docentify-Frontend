<div class="d-flex col-12 align-items-center overflow-hidden justify-content-around hero-section unselectable">
    <div class="col-4 hero-section-text">
        <h2 class="hero-section-title ">RANKING</h2>
        <p>Ranking é uma classificação que organiza elementos, como pessoas, empresas ou produtos, de acordo com
            determinados critérios, geralmente com base em desempenho.</p>
    </div>
    <div>
        <div class="svg-div">
            <img src="../../../assets/ranking_hero.svg">
        </div>
    </div>


</div>
<div class="course-section">
    <div class="container">
        <div class="row">
            <div class="col-md-12 unselectable">
                <h2 class="section-title">Filtragem de Ranking</h2>
                <p class="section-description">Utilize o filtros ou a barra de pesquisa abaixo para navegar pelo ranking
                    de professores mais participativos na plataforma.</p>
            </div>
        </div>
        <div class="row">
            <div class="col-12 d-flex flex-row column-gap-4">
                <div class="col-3">
                    <label>Busque por um nome ou e-mail:</label>
                    <div class="d-flex align-items-center input-group">
                        <input class="col-12 form-control search-bar" placeholder="Fazer uma busca rápida"
                            style="font-size: 14px;" aria-label="Search" #search>
                        <button class="rounded-circle search-bar-button" (click)="filtrar()">
                            <svg width="18" height="17" viewBox="0 0 18 17" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M17.0909 15.4075L13.9992 12.3409C15.1993 10.8445 15.7804 8.94527 15.6232 7.0336C15.466 5.12194 14.5822 3.34317 13.1538 2.06306C11.7253 0.782943 9.86069 0.0987796 7.94329 0.151247C6.02589 0.203714 4.20146 0.988823 2.84514 2.34514C1.48882 3.70146 0.703714 5.52589 0.651247 7.44329C0.59878 9.36069 1.28294 11.2253 2.56306 12.6538C3.84317 14.0822 5.62194 14.966 7.5336 15.1232C9.44527 15.2804 11.3445 14.6993 12.8409 13.4992L15.9075 16.5659C15.985 16.644 16.0772 16.706 16.1787 16.7483C16.2803 16.7906 16.3892 16.8124 16.4992 16.8124C16.6092 16.8124 16.7181 16.7906 16.8197 16.7483C16.9212 16.706 17.0134 16.644 17.0909 16.5659C17.2411 16.4105 17.325 16.2028 17.325 15.9867C17.325 15.7706 17.2411 15.5629 17.0909 15.4075V15.4075ZM8.16585 13.4992C7.01213 13.4992 5.88431 13.1571 4.92503 12.5161C3.96574 11.8751 3.21807 10.9641 2.77656 9.89818C2.33505 8.83227 2.21953 7.65938 2.44461 6.52783C2.66969 5.39627 3.22526 4.35687 4.04107 3.54107C4.85687 2.72526 5.89627 2.16969 7.02783 1.94461C8.15938 1.71953 9.33227 1.83505 10.3982 2.27656C11.4641 2.71807 12.3751 3.46574 13.0161 4.42503C13.6571 5.38432 13.9992 6.51213 13.9992 7.66586C13.9992 9.21295 13.3846 10.6967 12.2906 11.7906C11.1967 12.8846 9.71295 13.4992 8.16585 13.4992V13.4992Z"
                                    fill="white" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <hr>
    </div>
</div>
<div class="ranking-container" *ngIf="podium">
    <div class="ranking-podium">
        <div class="podium-position">
            <img src="../assets/user-pfp.png" draggable="false" class="rounded-circle unselectable podium-pfp">
            <span class="score">{{podium[1].score}} pontos</span>
            <div class="podium-column second-place">2º</div>
        </div>
        <div class="podium-position ">
            <img src="../assets/user-pfp.png" draggable="false" class="rounded-circle unselectable podium-pfp">
            <span class="score">{{podium[0].score}} pontos</span>
            <div class="podium-column first-place">1º</div>
        </div>
        <div class="podium-position ">
            <img src="../assets/user-pfp.png" draggable="false" class="rounded-circle unselectable podium-pfp">
            <span class="score">{{podium[2].score}} pontos</span>
            <div class="podium-column third-place">3º</div>
        </div>
    </div>
    <div class="ranking-table">
        <span class="ranking-title">Ranking Geral</span>
        <table>
            <thead class="thead-light">
                <tr>
                    <th >Posição</th>
                    <th class="name-column">Nome</th>
                    <th>Pontuação</th>
                </tr>
            <tbody>
                <tr *ngFor="let user of rankingData.rankings" [ngClass]="{'self': user.userId == userId}">
                    <td [ngClass]="{'first': user.position == 1, 'second': user.position == 2, 'third': user.position == 3}">{{user.position}}º</td>
                    <td class="name-column">{{user.name}}</td>
                    <td>{{user.score}}</td>
                </tr>
            </tbody>
        </table>
        <div class="d-flex flex-row col-4 justify-content-between mt-3">
            <button (click)="previousPage()" class="carousel-previous-page" [ngClass]="{'disabled': currentPage == 1}" [disabled]="currentPage == 1">
                <svg width="10" height="15" viewBox="0 0 10 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9.54138 14.4584L1.58301 7.5L9.54138 0.541628" stroke="#515151" />
                </svg>
                Anterior
            </button>
            <button (click)="nextPage()" class="carousel-next-page" [ngClass]="{'disabled': currentPage + 1 == rankingData.maxPage}" [disabled]="currentPage + 1 == rankingData.maxPage">
                Próximo
                <svg width="10" height="15" viewBox="0 0 10 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0.45862 14.4169L8.41699 7.4585L0.458619 0.500124" stroke="#515151" />
                </svg>
            </button>
        </div>
    </div>
</div>